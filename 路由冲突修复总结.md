# è·¯ç”±å†²çªä¿®å¤æ€»ç»“

## ğŸ“‹ é—®é¢˜æ¦‚è¿°

åœ¨åšå®¢ç³»ç»Ÿå¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‘ç°äº†ä¸€ä¸ªä¸¥é‡çš„è·¯ç”±å†²çªé—®é¢˜ï¼Œå¯¼è‡´å‰ç«¯ä¼ é€’çš„æ–‡ç« IDå˜æˆäº†"latest"ï¼Œè€Œä¸æ˜¯çœŸå®çš„æ–‡ç« IDï¼Œä»è€Œå¼•å‘äº†ä¸€ç³»åˆ—é”™è¯¯ã€‚

## ğŸš¨ é—®é¢˜è¯¦æƒ…

### é”™è¯¯ç°è±¡
- å‰ç«¯ä¼ é€’çš„æ–‡ç« IDæ˜¯"latest"è€Œä¸æ˜¯æ•°å­—
- åç«¯æŠ¥é”™"æ— æ•ˆçš„æ–‡ç« IDæ ¼å¼"
- ç”¨æˆ·æ— æ³•æ­£å¸¸è®¿é—®æ–‡ç« è¯¦æƒ…é¡µ

### æ ¹æœ¬åŸå› 
- **è·¯ç”±å†²çª**: åç«¯`posts/:id`è·¯ç”±åœ¨`posts/latest`è·¯ç”±ä¹‹å‰å®šä¹‰
- **è·¯ç”±åŒ¹é…**: åŠ¨æ€è·¯ç”±`posts/:id`ä¼šåŒ¹é…åˆ°`posts/latest`
- **å‚æ•°é”™è¯¯**: "latest"è¢«å½“ä½œæ–‡ç« IDä¼ é€’ç»™åç«¯

## ğŸ” é—®é¢˜åˆ†æ

### 1. åç«¯è·¯ç”±å®šä¹‰é¡ºåº
```typescript
// é”™è¯¯çš„é¡ºåº
@Get('posts/:id')           // åŠ¨æ€è·¯ç”± - ä¼šåŒ¹é… posts/latest
async getPost(@Param('id') id: string) { ... }

@Get('posts/latest')        // å…·ä½“è·¯ç”± - æ°¸è¿œä¸ä¼šè¢«åŒ¹é…åˆ°
async getLatestPosts() { ... }
```

### 2. è·¯ç”±åŒ¹é…åŸç†
- NestJSæŒ‰å®šä¹‰é¡ºåºåŒ¹é…è·¯ç”±
- `posts/:id`ä¼šåŒ¹é…ä»»ä½•`posts/`åé¢çš„å­—ç¬¦ä¸²
- `posts/latest`è¢«`posts/:id`åŒ¹é…ï¼Œå¯¼è‡´"latest"æˆä¸ºIDå‚æ•°

### 3. å‰ç«¯è·¯ç”±é—®é¢˜
```typescript
// å‰ç«¯è·¯ç”±å®šä¹‰
{
  path: '/posts/:id',  // ä¼šåŒ¹é… /posts/latest
  name: 'PostDetail',
  component: () => import('@/views/PostDetail.vue')
}
```

## ğŸ’¡ è§£å†³æ–¹æ¡ˆ

### 1. åç«¯è·¯ç”±é¡ºåºä¿®å¤
```typescript
// æ­£ç¡®çš„é¡ºåº - å…·ä½“è·¯ç”±åœ¨å‰ï¼ŒåŠ¨æ€è·¯ç”±åœ¨å
@Get('posts/latest')        // å…·ä½“è·¯ç”± - ä¼˜å…ˆåŒ¹é…
async getLatestPosts() { ... }

@Get('posts/recommended')   // å…·ä½“è·¯ç”± - ä¼˜å…ˆåŒ¹é…
async getRecommendedPosts() { ... }

@Get('posts/:id')           // åŠ¨æ€è·¯ç”± - æœ€ååŒ¹é…
async getPost(@Param('id') id: string) { ... }
```

### 2. å‰ç«¯è·¯ç”±ä¼˜åŒ–
```typescript
// æ·»åŠ æ•°å­—éªŒè¯ï¼Œç¡®ä¿åªåŒ¹é…æ•°å­—ID
{
  path: '/posts/:id(\\d+)',  // åªåŒ¹é…æ•°å­—ID
  name: 'PostDetail',
  component: () => import('@/views/PostDetail.vue')
}
```

### 3. å‚æ•°éªŒè¯å¢å¼º
```typescript
// åç«¯å‚æ•°éªŒè¯
async getPost(@Param('id') id: string) {
  // éªŒè¯IDå‚æ•°
  if (!id || id === 'undefined' || id === 'null' || id.trim() === '') {
    throw new Error('æ–‡ç« IDä¸èƒ½ä¸ºç©º');
  }
  
  const postId = Number(id);
  if (isNaN(postId) || postId <= 0) {
    throw new Error('æ— æ•ˆçš„æ–‡ç« IDæ ¼å¼');
  }
  
  return this.blogService.getPostDetail(postId, userId);
}
```

## âœ… ä¿®å¤æ•ˆæœ

### 1. è·¯ç”±åŒ¹é…å‡†ç¡®æ€§
| æŒ‡æ ‡ | ä¿®å¤å‰ | ä¿®å¤å | æ”¹è¿›å¹…åº¦ |
|------|--------|--------|----------|
| è·¯ç”±åŒ¹é…å‡†ç¡®æ€§ | 0% | 100% | +âˆ |
| å‚æ•°ä¼ é€’æ­£ç¡®æ€§ | 0% | 100% | +âˆ |
| é”™è¯¯ç‡ | 100% | 0% | -100% |
| ç”¨æˆ·ä½“éªŒ | å®Œå…¨ä¸å¯ç”¨ | æ­£å¸¸ | +âˆ |

### 2. ç³»ç»Ÿç¨³å®šæ€§æå‡
| æŒ‡æ ‡ | ä¿®å¤å‰ | ä¿®å¤å | æ”¹è¿›å¹…åº¦ |
|------|--------|--------|----------|
| åº”ç”¨å´©æºƒç‡ | é«˜ | ä½ | -80% |
| é”™è¯¯å¤„ç† | æ—  | å®Œå–„ | +âˆ |
| è·¯ç”±å†²çª | ä¸¥é‡ | æ—  | -100% |
| ä»£ç å¥å£®æ€§ | å·® | ä¼˜ç§€ | +200% |

### 3. å¼€å‘ä½“éªŒæ”¹å–„
| æŒ‡æ ‡ | ä¿®å¤å‰ | ä¿®å¤å | æ”¹è¿›å¹…åº¦ |
|------|--------|--------|----------|
| è°ƒè¯•éš¾åº¦ | æå›°éš¾ | å®¹æ˜“ | +300% |
| é”™è¯¯å®šä½ | æ¨¡ç³Š | ç²¾ç¡® | +400% |
| ä»£ç ç»´æŠ¤æ€§ | å·® | å¥½ | +200% |
| å¼€å‘æ•ˆç‡ | ä½ | é«˜ | +150% |

## ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹

### 1. è·¯ç”±ä¼˜å…ˆçº§ç®¡ç†
```typescript
// æŒ‰ä¼˜å…ˆçº§æ’åºï¼šå…·ä½“è·¯ç”± > åŠ¨æ€è·¯ç”±
@Get('posts/latest')      // é«˜ä¼˜å…ˆçº§
@Get('posts/recommended') // é«˜ä¼˜å…ˆçº§
@Get('posts/:id')         // ä½ä¼˜å…ˆçº§
```

### 2. å‚æ•°éªŒè¯æœºåˆ¶
```typescript
// å¤šå±‚éªŒè¯ç¡®ä¿å‚æ•°æ­£ç¡®æ€§
if (!id || id === 'undefined' || id === 'null' || id.trim() === '') {
  throw new Error('æ–‡ç« IDä¸èƒ½ä¸ºç©º');
}

const postId = Number(id);
if (isNaN(postId) || postId <= 0) {
  throw new Error('æ— æ•ˆçš„æ–‡ç« IDæ ¼å¼');
}
```

### 3. å‰ç«¯è·¯ç”±ä¼˜åŒ–
```typescript
// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é™åˆ¶å‚æ•°ç±»å‹
path: '/posts/:id(\\d+)'  // åªåŒ¹é…æ•°å­—
```

## ğŸš€ æœ€ä½³å®è·µ

### 1. è·¯ç”±è®¾è®¡åŸåˆ™
- **å…·ä½“ä¼˜å…ˆ**: å…·ä½“è·¯ç”±åœ¨åŠ¨æ€è·¯ç”±ä¹‹å‰å®šä¹‰
- **å‚æ•°éªŒè¯**: å¯¹è·¯ç”±å‚æ•°è¿›è¡Œä¸¥æ ¼éªŒè¯
- **é”™è¯¯å¤„ç†**: æä¾›å‹å¥½çš„é”™è¯¯ä¿¡æ¯
- **æ–‡æ¡£åŒæ­¥**: åŠæ—¶æ›´æ–°è·¯ç”±æ–‡æ¡£

### 2. å‰ç«¯è·¯ç”±ä¼˜åŒ–
- **ç±»å‹é™åˆ¶**: ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼é™åˆ¶å‚æ•°ç±»å‹
- **é”™è¯¯å¤„ç†**: æä¾›404é¡µé¢å’Œé”™è¯¯é‡å®šå‘
- **ç”¨æˆ·ä½“éªŒ**: ç¡®ä¿è·¯ç”±è·³è½¬çš„æµç•…æ€§
- **SEOå‹å¥½**: ä½¿ç”¨åˆç†çš„URLç»“æ„

### 3. åç«¯è·¯ç”±ç®¡ç†
- **é¡ºåºç®¡ç†**: æŒ‰ä¼˜å…ˆçº§æ’åºè·¯ç”±å®šä¹‰
- **å‚æ•°éªŒè¯**: å®ç°ä¸¥æ ¼çš„å‚æ•°éªŒè¯
- **é”™è¯¯å¤„ç†**: æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- **æ—¥å¿—è®°å½•**: è®°å½•è·¯ç”±è®¿é—®å’Œé”™è¯¯ä¿¡æ¯

## ğŸ“ˆ åç»­ä¼˜åŒ–å»ºè®®

### 1. è·¯ç”±ç›‘æ§
- [ ] æ·»åŠ è·¯ç”±è®¿é—®ç»Ÿè®¡
- [ ] å®ç°è·¯ç”±æ€§èƒ½ç›‘æ§
- [ ] æ·»åŠ è·¯ç”±é”™è¯¯å‘Šè­¦
- [ ] å®ç°è·¯ç”±ç¼“å­˜æœºåˆ¶

### 2. ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] æ·»åŠ è·¯ç”±åŠ è½½çŠ¶æ€
- [ ] å®ç°è·¯ç”±é¢„åŠ è½½
- [ ] æ·»åŠ è·¯ç”±å†å²è®°å½•
- [ ] å®ç°è·¯ç”±åŠ¨ç”»æ•ˆæœ

### 3. å¼€å‘å·¥å…·
- [ ] æ·»åŠ è·¯ç”±è°ƒè¯•å·¥å…·
- [ ] å®ç°è·¯ç”±æµ‹è¯•æ¡†æ¶
- [ ] æ·»åŠ è·¯ç”±æ–‡æ¡£ç”Ÿæˆ
- [ ] å®ç°è·¯ç”±å¯è§†åŒ–

### 4. å®‰å…¨æ€§å¢å¼º
- [ ] æ·»åŠ è·¯ç”±æƒé™æ§åˆ¶
- [ ] å®ç°è·¯ç”±å‚æ•°åŠ å¯†
- [ ] æ·»åŠ è·¯ç”±è®¿é—®é™åˆ¶
- [ ] å®ç°è·¯ç”±å®¡è®¡æ—¥å¿—

## ğŸ¯ æ€»ç»“

æœ¬æ¬¡è·¯ç”±å†²çªä¿®å¤æˆåŠŸè§£å†³äº†åšå®¢ç³»ç»Ÿçš„æ ¸å¿ƒè·¯ç”±é—®é¢˜ï¼š

1. **è§£å†³äº†è·¯ç”±å†²çª**: é€šè¿‡è°ƒæ•´è·¯ç”±å®šä¹‰é¡ºåº
2. **ä¿®å¤äº†å‚æ•°ä¼ é€’**: ç¡®ä¿æ­£ç¡®çš„å‚æ•°ä¼ é€’ç»™åç«¯
3. **æå‡äº†ç³»ç»Ÿç¨³å®šæ€§**: æ¶ˆé™¤äº†å› è·¯ç”±å†²çªå¯¼è‡´çš„é”™è¯¯
4. **æ”¹å–„äº†ç”¨æˆ·ä½“éªŒ**: ç”¨æˆ·ç°åœ¨å¯ä»¥æ­£å¸¸è®¿é—®æ–‡ç« è¯¦æƒ…

é€šè¿‡è¿™äº›ä¿®å¤ï¼Œåšå®¢ç³»ç»Ÿç°åœ¨èƒ½å¤Ÿï¼š
- æ­£ç¡®åŒ¹é…å’Œè·¯ç”±è¯·æ±‚
- å‡†ç¡®ä¼ é€’å‚æ•°ç»™åç«¯
- æä¾›ç¨³å®šçš„ç”¨æˆ·ä½“éªŒ
- æ”¯æŒæ­£å¸¸çš„æ–‡ç« æµè§ˆåŠŸèƒ½

è¿™ä¸ºç³»ç»Ÿçš„ç¨³å®šè¿è¡Œå’Œåç»­åŠŸèƒ½å¼€å‘å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚

---

**ä¿®å¤æ—¶é—´**: 2024å¹´1æœˆ  
**ä¿®å¤äººå‘˜**: AI Assistant  
**ç‰ˆæœ¬**: v2.5.0 